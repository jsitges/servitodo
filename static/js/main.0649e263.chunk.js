(this["webpackJsonpservitodo-client"]=this["webpackJsonpservitodo-client"]||[]).push([[0],{122:function(e,t,a){e.exports=a(155)},127:function(e,t,a){},132:function(e,t,a){e.exports=a.p+"static/media/profilePic.93f33577.jpeg"},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),c=(a(127),a(46)),i=a(18),s=a(28),u=a(10),m=a(184),h=a(187),p=a(189),d=a(190),g=a(105),E=a(207),f=a(208),v=function(e){return{type:"LOGIN_SUCCESS",user:e}},b=function(e){return{type:"CURRENT_USER",user:e}},y=function(e){return{type:"UPDATE_QUERY",query:e}},C=function(e){return{type:"UPDATE_FILTER",filter:e}},j=a(93),k=a.n(j),O=(a(132),Object(m.a)((function(e){return{root:{borderBottom:"1px solid #e9eced",marginBottom:20},logo:{flexGrow:1},menuButton:{color:"#757575",marginRight:e.spacing(2)},button:{color:"white",backgroundColor:"#4CAF50",marginRight:10},navBar:{backgroundColor:"white"},menu:{display:"flex"},profilePic:{border:"1px solid green"}}})));var S=Object(i.f)(Object(u.b)((function(e){return{auth:e.auth}}),{logoutUser:function(){return{type:"LOGOUT_USER"}},updateQuery:y})((function(e){var t=e.history,a=O(),n=r.a.useState(null),o=Object(s.a)(n,2),l=o[0],i=o[1],u=function(a){i(null),e.updateQuery(a.target.innerText),t.push("/results")};return r.a.createElement("div",{className:a.root},r.a.createElement(h.a,{position:"relative",elevation:0,className:a.navBar},r.a.createElement(p.a,null,r.a.createElement("div",{className:a.logo},r.a.createElement(c.b,{to:"/search"},r.a.createElement("img",{width:"40",height:"40",src:k.a}))),e.auth?r.a.createElement("div",{className:a.menu},r.a.createElement(d.a,{className:a.menuButton,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},"Explore"),r.a.createElement(g.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:u},r.a.createElement(E.a,{onClick:u},"Personal Trainer"),r.a.createElement(E.a,{onClick:u},"Electricians"),r.a.createElement(E.a,{onClick:u},"App Developers"),r.a.createElement(E.a,{onClick:u},"House Cleaners")),r.a.createElement(d.a,{component:c.b,to:"/jobs",className:a.menuButton},"Active Jobs"),r.a.createElement(d.a,{className:a.menuButton,onClick:function(){localStorage.removeItem("token"),e.logoutUser(),t.push("/login")}},"Logout"),r.a.createElement(f.a,{className:a.profilePic,src:e.auth.img_url})):r.a.createElement("div",null,r.a.createElement(d.a,{variant:"contained",className:a.button,href:"/join"},"Join as a Pro"),r.a.createElement(d.a,{className:a.menuButton,href:"/register"},"Register"),r.a.createElement(d.a,{className:a.menuButton,href:"/login"},"Login")))))}))),w=a(195),_=a(196),F=a(156),x=a(24),A=a(8),T=a(9),N=a(67),I=a(11),D=a(12),P=a(97),R=a.n(P),z=a(191),B=a(202),U=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.loginSuccess,r=a.history,o=Object(N.a)(e);R.a.post("https://shrouded-retreat-77877.herokuapp.com/auth",{email:e.state.email,password:e.state.password}).then((function(e){e.data.error?(console.log(e.data.error),o.setState({email:"",password:"",error:e.data.error})):(localStorage.setItem("token",e.data.token),n(e.data),r.push("/search"))})).catch((function(e){console.log(e)}))},e.state={email:"",password:"",error:"No errors yet:D"},e}return Object(T.a)(a,[{key:"render",value:function(){var e={paddingBottom:20};return r.a.createElement(z.a,{style:{textAlign:"center"}},r.a.createElement(B.a,{autoFocus:!0,value:this.state.email,error:"Invalid Username or password"===this.state.error,type:"text",name:"email",label:"Email",variant:"outlined",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{error:"Invalid Username or password"===this.state.error,helperText:"Invalid Username or password"===this.state.error?"Invalid Username or Password":null,value:this.state.password,type:"password",name:"password",label:"Password",variant:"outlined",onChange:this.handleChange,style:e}),r.a.createElement(d.a,{type:"submit",size:"large",color:"primary",variant:"contained",onClick:this.handleSubmit,style:{backgroundColor:"#4CAF50"}},"Log in"))}}]),a}(n.Component),J=Object(i.f)(Object(u.b)(null,{loginSuccess:v})(U)),W=a(193),q=a(194),G=Object(m.a)((function(e){return{card:{padding:20,margin:20}}}));function H(){var e=G();return r.a.createElement(W.a,{className:e.card},r.a.createElement(q.a,null,r.a.createElement(J,null)))}function L(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(_.a,{maxWidth:"sm"},r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Welcome Back"),r.a.createElement(H,null)))}var M=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value)),e.props.updateQuery(t.target.value)},e.state={query:""},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement(B.a,{variant:"outlined",name:"query",placeholder:""==this.props.query?"Search":this.props.query,value:this.state.query,inputProps:{"aria-label":"search"},onChange:this.handleChange,style:{width:"100%",backgroundColor:"white"}})}}]),a}(n.Component),Q=Object(u.b)((function(e){return{query:e.query}}),{updateQuery:y})(M),V=a(198),Y=a(98),$=a.n(Y),X=a(206),K=a(203);function Z(e){return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}var ee=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var te=Object(u.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=ee(),a=r.a.useState(!0),n=Object(s.a)(a,2),o=n[0],l=n[1],c=function(t,a){console.log(e),"clickaway"!==a&&l(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(X.a,{open:o,autoHideDuration:6e3,onClose:c},r.a.createElement(Z,{onClose:c,severity:"success"},"Welcome to Servitodo!")))})),ae=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).checkForToken=function(){var t=localStorage.getItem("token");if(t){var a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",a).then((function(e){return e.json()})).then((function(t){t.error?e.props.history.push("/login"):e.props.currentUser(t)}))}else e.props.history.push("/login")},e.handleClick=function(t){e.props.updateQuery(t.target.innerText.toLowerCase()),e.props.history.push("/results")},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.props.auth||this.checkForToken()}},{key:"render",value:function(){var e=this,t={backgroundColor:"#4CAF50",color:"white",margin:20,padding:10};return r.a.createElement(_.a,{maxWidth:"lg",style:{marginTop:150}},r.a.createElement(te,null),r.a.createElement(w.a,null),r.a.createElement(F.a,{variant:"h6",style:{borderBottom:"2px solid #4CAF50",width:80,fontSize:"15px",marginBottom:10}},"Hire a pro"),r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:10},r.a.createElement(F.a,{variant:"h3"},"Find local professionals for"),r.a.createElement(F.a,{variant:"h3",style:{marginBottom:30}},"pretty much everything."),r.a.createElement(Q,null),r.a.createElement(d.a,{onClick:this.handleClick,style:t},"Personal Trainer"),r.a.createElement(d.a,{onClick:this.handleClick,style:t},"Electricians"),r.a.createElement(d.a,{onClick:this.handleClick,style:t},"App Developers"),r.a.createElement(d.a,{onClick:this.handleClick,style:t},"House Cleaners")),r.a.createElement(V.a,{item:!0},r.a.createElement(d.a,{size:"large",variant:"contained",onClick:function(){return e.props.history.push("/results")},style:{backgroundColor:"#4CAF50",color:"white",marginTop:142,height:55,marginLeft:10}},r.a.createElement($.a,null)))))}}]),a}(r.a.Component),ne=Object(u.b)((function(e){return{auth:e.auth}}),{currentUser:b,updateQuery:y})(ae),re=a(108),oe=a(109),le=Object(m.a)((function(e){return{paper:{padding:e.spacing(5),marginBottom:20},image:{width:168,height:168},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",borderRadius:"50%"},button:{marginTop:"75%",backgroundColor:"#4CAF50",color:"white"},star:{color:"#009fd9"}}}));function ce(e){var t=le(),a=e.professional,n=a.id,o=a.name,l=a.times_hired,c=a.time_in_bussiness,i=a.zip_code,s=a.average_reviews,u=a.estimated_cost,m=a.img_url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(re.a,{className:t.paper,elevation:1},r.a.createElement(V.a,{container:!0,spacing:4},r.a.createElement(V.a,{item:!0},r.a.createElement(oe.a,{className:t.image},r.a.createElement("img",{className:t.img,alt:"complex",src:m}))),r.a.createElement(V.a,{item:!0,sm:!0,container:!0},r.a.createElement(V.a,{item:!0,xs:10,container:!0,direction:"column"},r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{gutterBottom:!0,variant:"h5",style:{fontWeight:"bold"}}," ",o)),r.a.createElement(V.a,{item:!0},function(e){switch(e){case 0:return r.a.createElement(F.a,null,"New to Servitodo");case 1:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50")," Getting Started");case 2:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50"),"Good");case 3:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50")," Very Good");case 4:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50\u2b50")," Excellent");case 5:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50\u2b50\u2b50")," Exceptional");default:return r.a.createElement(F.a,null,"No reviews yet.")}}(s)),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83c\udfc6 ",l," hires on Servitodo")),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83d\udcbc ",c," years in business")),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83d\udccd Serves in ",i))),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{variant:"subtitle1",style:{fontWeight:"bold"}},"$",u,"/hour"),r.a.createElement(F.a,{variant:"body2",color:"textSecondary"},"estimated cost"),r.a.createElement(d.a,{onClick:function(){return e.history.push("/results/".concat(n))},className:t.button,variant:"contained"},"View Profile"))))))}var ie=Object(u.b)((function(e){return{auth:e.auth,professionals:e.professionals,query:e.query,filter:e.filter}}),null)((function(e){return r.a.createElement("div",null,function(){var t,a=[(t=e.auth.zip_code)-2,t-1,t,t+1,t+2],n=e.professionals.filter((function(e){return e.zip_code===a[0]||e.zip_code===a[1]||e.zip_code===a[2]||e.zip_code===a[3]||e.zip_code===a[4]}));if(n=n.filter((function(t){var a=t.introduction.toLowerCase(),n=e.query.toLowerCase();if(a.includes(n)||a.includes(n+"s"))return t})),"distance"===e.filter?n=n.sort((function(e,t){return e.zip_code>t.zip_code?1:-1})):"price"===e.filter?n=n.sort((function(e,t){return e.estimated_cost>t.estimated_cost?1:-1})):"rating"===e.filter&&(n=n.sort((function(e,t){return t.average_reviews>e.average_reviews?1:-1}))),0!==n.length)return n.map((function(t,a){return r.a.createElement(ce,{professional:t,key:a,history:e.history})}))}())})),se=a(204),ue=a(209),me=a(199),he=a(192),pe=a(4),de=a(69),ge=Object(pe.a)({root:{color:de.a[400],"&$checked":{color:de.a[600]}},checked:{}})((function(e){return r.a.createElement(se.a,Object.assign({color:"default"},e))}));var Ee=Object(u.b)(null,{updateFilter:C})((function(e){var t=r.a.useState("all"),a=Object(s.a)(t,2),n=a[0],o=a[1];return r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(ue.a,{"aria-label":"filter",name:"filter",value:n,onChange:function(t){o(t.target.value),e.updateFilter(t.target.value)}},r.a.createElement(me.a,{value:"all",control:r.a.createElement(ge,null),label:"All"}),r.a.createElement(me.a,{value:"distance",control:r.a.createElement(ge,null),label:"Distance"}),r.a.createElement(me.a,{value:"price",control:r.a.createElement(ge,null),label:"Price"}),r.a.createElement(me.a,{value:"rating",control:r.a.createElement(ge,null),label:"Rating"})))}));function fe(e){return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}var ve=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var be=function(e){var t=ve(),a=r.a.useState(!0),n=Object(s.a)(a,2),o=n[0],l=n[1],c=function(e,t){"clickaway"!==t&&l(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(X.a,{open:o,autoHideDuration:6e3,onClose:c},r.a.createElement(fe,{onClose:c,severity:"success"},"Searching algorithm using zip-code ",e.zipCode)))},ye=a(200),Ce=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fetchProData=function(){fetch("https://shrouded-retreat-77877.herokuapp.com/professionals").then((function(e){return e.json()})).then((function(t){return e.props.fetchSuccess(t.professionals)}))},e.checkForToken=function(){var t=localStorage.getItem("token");if(t){var a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",a).then((function(e){return e.json()})).then((function(t){t.error?e.props.history.push("/login"):e.props.currentUser(t)}))}else e.props.history.push("/login")},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.checkForToken(),this.fetchProData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),this.props.auth?r.a.createElement(be,{zipCode:this.props.auth.zip_code}):null,r.a.createElement(V.a,{container:!0,spacing:2,style:{padding:"1.5%"}},r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement(Q,null)),r.a.createElement(re.a,{style:{padding:20}},r.a.createElement(F.a,null,"Sort by:"),r.a.createElement(Ee,null))),r.a.createElement(V.a,{item:!0,xs:10},this.props.auth?r.a.createElement(ie,{history:this.props.history}):r.a.createElement(ye.a,null))))}}]),a}(n.Component),je=Object(u.b)((function(e){return{auth:e.auth,professionals:e.professionals}}),{currentUser:b,fetchSuccess:function(e){return{type:"FETCH_SUCCESS",professionals:e}}})(Ce),ke=a(22),Oe=a.n(ke),Se=function(e){return r.a.createElement("div",null,function(e){switch(e.rating){case 1:return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(F.a,null,e.content));case 2:return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(F.a,null,e.content));case 3:return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(F.a,null,e.content));case 4:return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(F.a,null,e.content));case 5:return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(Oe.a,{style:{color:"#4CAF50"}}),r.a.createElement(F.a,null,e.content));default:return null}}(e.review))},we=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:""},e.handleInputChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t={title:e.state.title,user_id:e.props.userId,professional_id:e.props.proId},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://shrouded-retreat-77877.herokuapp.com/jobs",a).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):(console.log("Job created"),e.props.history.push("/jobs"))}))},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement(z.a,null,r.a.createElement(B.a,{autoFocus:!0,id:"outlined-basic",label:"Job Description",variant:"outlined",name:"title",onChange:this.handleInputChange,value:this.state.title,style:{marginTop:10,marginBottom:10}}),r.a.createElement(d.a,{size:"large",variant:"contained",onClick:this.handleSubmit,style:{backgroundColor:"#4CAF50",color:"white",marginBottom:20}},"Submit"))}}]),a}(n.Component),_e=a(99),Fe=a.n(_e);function xe(e){var t={message:e.message,email:e.email};return r.a.createElement(d.a,{size:"large",style:{backgroundColor:"#4CAF50",color:"white",marginBottom:20},variant:"contained",onClick:function(){Fe.a.send("default_service","contact_form",t,"user_0s0p6hVDhQaHTDwYYA0vo"),e.toggleContactForm(),e.emailSent()}},"Send")}var Ae=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={message:"",showSnackbar:!1},e.handleInputChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.emailSent=function(){e.setState({showSnackbar:!0})},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(B.a,{autoFocus:!0,id:"outlined-basic",label:"Message",variant:"outlined",name:"message",onChange:this.handleInputChange,value:this.state.message,style:{marginTop:10,marginBottom:10}}),r.a.createElement(xe,{email:this.props.email,message:this.state.message,toggleContactForm:this.props.toggleContactForm,emailSent:this.props.emailSent})))}}]),a}(n.Component);function Te(e){return r.a.createElement(K.a,Object.assign({elevation:6,variant:"filled"},e))}var Ne=Object(m.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));var Ie=Object(u.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=Ne(),a=r.a.useState(!0),n=Object(s.a)(a,2),o=n[0],l=n[1],c=function(t,a){console.log(e),"clickaway"!==a&&l(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(X.a,{open:o,autoHideDuration:6e3,onClose:c},r.a.createElement(Te,{onClose:c,severity:"success"},"Email successfully sent!")))})),De=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).fetchProData=function(){var t=parseInt(e.props.match.params.professionalId);fetch("https://shrouded-retreat-77877.herokuapp.com/professionals/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({reviews:t.reviews,professional:t.professional})}))},e.checkForToken=function(){var t=localStorage.getItem("token");if(t){var a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",a).then((function(e){return e.json()})).then((function(t){t.error?e.props.history.push("/login"):e.props.currentUser(t)}))}else e.props.history.push("/login")},e.renderReviews=function(){return e.state.reviews.map((function(e,t){return r.a.createElement(Se,{review:e,key:t})}))},e.renderStars=function(e,t){switch(e){case 0:return r.a.createElement(F.a,null,"New to Servitodo");case 1:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50")," Getting Started (",t,")");case 2:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50"),"Good (",t,")");case 3:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50")," Very Good (",t,")");case 4:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50\u2b50")," Excellent (",t,")");case 5:return r.a.createElement(F.a,null,r.a.createElement("span",null,"\u2b50\u2b50\u2b50\u2b50\u2b50")," Exceptional (",t,")");default:return r.a.createElement(F.a,null,"No reviews yet.")}},e.toggleJobForm=function(){var t=!e.state.showJobForm;e.setState({showJobForm:t})},e.toggleContactForm=function(){var t=!e.state.showContactForm;e.setState({showContactForm:t})},e.emailSent=function(){e.setState({showSnackbar:!0})},e.state={professional:{},reviews:[],showJobForm:!1,showContactForm:!1,showSnackbar:!1},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.checkForToken(),this.fetchProData()}},{key:"render",value:function(){var e=this.state.professional,t=e.name,a=e.introduction,n=e.time_in_bussiness,o=e.times_hired,l=e.zip_code,c=e.average_reviews,i=e.estimated_cost,s=e.img_url;return r.a.createElement(r.a.Fragment,null,this.state.showSnackbar?r.a.createElement(Ie,null):null,r.a.createElement(_.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0},r.a.createElement("img",{width:"256",height:"256",alt:"complex",style:{borderRadius:"50%",marginRight:20},src:s})),r.a.createElement(V.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(V.a,{item:!0,xs:8,container:!0,direction:"column",spacing:1},r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{variant:"h4",style:{fontWeight:"bold"}}," ",t)),r.a.createElement(V.a,{item:!0},this.renderStars(c,this.state.reviews.length)),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83d\udcbc ",n," years in business")),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83d\udccd Serves in ",l)),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"\ud83c\udfc6 ",o," hires on Servitodo")),r.a.createElement(V.a,{item:!0,style:{marginTop:10}},r.a.createElement(d.a,{onClick:this.toggleJobForm,variant:"contained",style:{backgroundColor:"#4CAF50",color:"white",marginRight:15},size:"large"},"Hire"),r.a.createElement(d.a,{onClick:this.toggleContactForm,variant:"contained",style:{backgroundColor:"#4CAF50",color:"white"},size:"large"},"Contact me"))),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{variant:"h6",style:{fontWeight:"bold"}},"$",i,"/hour"),r.a.createElement(F.a,{variant:"body2",color:"textSecondary"},"estimated cost")))),r.a.createElement(V.a,{item:!0,xs:10},this.state.showJobForm?r.a.createElement(we,{userId:this.props.auth.id,proId:this.state.professional.id,history:this.props.history}):null,this.state.showContactForm?r.a.createElement(Ae,{toggleContactForm:this.toggleContactForm,email:this.state.professional.email,emailSent:this.emailSent}):null,r.a.createElement("br",null),r.a.createElement(F.a,{variant:"h6",style:{fontWeight:"bold"}},"Introduction:"),r.a.createElement(F.a,{variant:"body1",style:{fontSize:15}},a),r.a.createElement("br",null),r.a.createElement("br",null),this.state.reviews.length>0?r.a.createElement("div",null,r.a.createElement(F.a,{variant:"h6",style:{fontWeight:"bold"}},"Reviews:"),r.a.createElement(F.a,{variant:"body1",style:{marginBottom:100}},this.renderReviews())):r.a.createElement(F.a,{variant:"h6",style:{fontWeight:"bold",color:"grey",marginBottom:100}},"No reviews yet"))))}}]),a}(n.Component),Pe=Object(u.b)((function(e){return{auth:e.auth}}),{currentUser:b})(De),Re=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.state.name,email:e.state.email,password:e.state.password,password_confirmation:e.state.password_confirmation,zip_code:e.state.zip_code})};fetch("https://shrouded-retreat-77877.herokuapp.com/register",a).then((function(e){return e.json()})).then((function(t){t.error?e.setState({name:"",email:"",password:"",password_confirmation:"",zip_code:"",error:"Input error, please check your data."}):(localStorage.setItem("token",t.token),e.props.loginSuccess(t),e.props.history.push("/"))}))},e.state={name:"",email:"",password:"",password_confirmation:"",zip_code:"",error:""},e}return Object(T.a)(a,[{key:"render",value:function(){var e={paddingBottom:20};return r.a.createElement(z.a,null,r.a.createElement(B.a,{autoFocus:!0,error:"Input error, please check your data."===this.state.error,label:"Name",variant:"outlined",name:"name",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{label:"Last Name",error:"Input error, please check your data."===this.state.error,variant:"outlined",name:"last_name",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{label:"Email",error:"Input error, please check your data."===this.state.error,variant:"outlined",name:"email",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{type:"password",error:"Input error, please check your data."===this.state.error,label:"Password",variant:"outlined",name:"password",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{type:"password",error:"Input error, please check your data."===this.state.error,label:"Password Confirmation",variant:"outlined",name:"password_confirmation",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{type:"number",error:"Input error, please check your data."===this.state.error,label:"Zip Code",variant:"outlined",name:"zip_code",onChange:this.handleChange,style:e}),r.a.createElement(d.a,{type:"submit",size:"large",variant:"contained",color:"primary",onClick:this.handleSubmit,style:{backgroundColor:"#4CAF50"}},"Create Account"))}}]),a}(n.Component),ze=Object(u.b)(null,{loginSuccess:v})(Re),Be=Object(m.a)((function(e){return{card:{padding:20,margin:20},terms:{color:"grey",textAlign:"center",fontSize:12}}}));var Ue=function(e){var t=Be();return r.a.createElement(W.a,{className:t.card},r.a.createElement(q.a,null,r.a.createElement(ze,{history:e.history})),r.a.createElement(F.a,{className:t.terms},"By clicking 'register' you accept our terms and conditions."))},Je=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){return Object(A.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(_.a,{maxWidth:"sm"},r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Create your account"),r.a.createElement(Ue,{history:this.props.history})))}}]),a}(r.a.Component),We=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).renderStars=function(e){switch(e){case 0:return r.a.createElement(F.a,null,"New to Servitodo");case 1:return r.a.createElement(F.a,null,r.a.createElement("span",{role:"img"},"\u2b50")," Getting Started");case 2:return r.a.createElement(F.a,null,r.a.createElement("span",{role:"img"},"\u2b50\u2b50"),"Good");case 3:return r.a.createElement(F.a,null,r.a.createElement("span",{role:"img"},"\u2b50\u2b50\u2b50")," Very Good");case 4:return r.a.createElement(F.a,null,r.a.createElement("span",{role:"img"},"\u2b50\u2b50\u2b50\u2b50")," Excellent");case 5:return r.a.createElement(F.a,null,r.a.createElement("span",{role:"img"},"\u2b50\u2b50\u2b50\u2b50\u2b50")," Exceptional");default:return r.a.createElement(F.a,null,"No reviews yet.")}},e.handleComplete=function(){var t=e.props.job.id,a={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})};fetch("https://shrouded-retreat-77877.herokuapp.com/jobs/".concat(t),a).then((function(e){return e.json()})).then((function(t){e.props.setAsComplete(t)})).catch((function(e){return console.log(e.message)}))},e.handleDelete=function(){var t=e.props.job.id,a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})};fetch("https://shrouded-retreat-77877.herokuapp.com/jobs/".concat(t),a).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e.message)}))},e}return Object(T.a)(a,[{key:"render",value:function(){var e=this.props.job,t=e.id,a=e.title,n=e.status,o=e.estimated_cost,l=e.professional_id,c=e.professional_img,i=e.professional_name,s=e.professional_average_rating,u={color:"white",backgroundColor:"#4CAF50",marginTop:10,marginRight:10};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(re.a,{style:{padding:"2%",marginBottom:20},elevation:1},r.a.createElement(V.a,{container:!0,spacing:4},r.a.createElement(V.a,{item:!0},r.a.createElement(oe.a,{style:{width:168,height:168},href:"/results/".concat(l)},r.a.createElement("img",{style:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",borderRadius:"20%"},alt:"complex",src:c}))),r.a.createElement(V.a,{item:!0,sm:!0,container:!0},r.a.createElement(V.a,{item:!0,xs:10,container:!0,direction:"column"},r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{gutterBottom:!0,variant:"h5"},i)),r.a.createElement(V.a,{item:!0},this.renderStars(s)),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"Description: ",a)),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null,"Status: ",n))),"Pending"===n?r.a.createElement(V.a,{item:!0},r.a.createElement(d.a,{onClick:this.handleComplete,style:u,variant:"contained"},"Done"),r.a.createElement(d.a,{onClick:this.handleDelete,style:{color:"white",backgroundColor:"red",marginTop:10},variant:"contained"},"Cancel")):r.a.createElement(V.a,{item:!0},r.a.createElement(d.a,{href:"/jobs/".concat(t,"/review/").concat(l),style:u,variant:"contained",color:"primary"},"Leave Review"),r.a.createElement(d.a,{href:"/results/".concat(l,"/pay/").concat(o),style:u,variant:"contained",color:"primary"},"Pay"))))))}}]),a}(n.Component),qe=Object(pe.a)({root:{color:de.a[400],"&$checked":{color:de.a[600]}},checked:{}})((function(e){return r.a.createElement(se.a,Object.assign({color:"default"},e))}));var Ge=Object(u.b)(null,{updateFilter:C})((function(e){var t=r.a.useState("all"),a=Object(s.a)(t,2),n=a[0],o=a[1];return r.a.createElement(he.a,{component:"fieldset"},r.a.createElement(ue.a,{"aria-label":"filter",name:"filter",value:n,onChange:function(t){o(t.target.value),e.updateFilter(t.target.value)}},r.a.createElement(me.a,{value:"all",control:r.a.createElement(qe,null),label:"All"}),r.a.createElement(me.a,{value:"completed",control:r.a.createElement(qe,null),label:"Completed"}),r.a.createElement(me.a,{value:"pending",control:r.a.createElement(qe,null),label:"Pending"})))})),He=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).checkForToken=function(){var t=localStorage.getItem("token");if(t){var a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",a).then((function(e){return e.json()})).then((function(t){t.error?e.props.history.push("/login"):e.props.currentUser(t)}))}else e.props.history.push("/login")},e.fetchJobsData=function(){if(e.props.auth){var t=e.props.auth.id;fetch("https://shrouded-retreat-77877.herokuapp.com/users/".concat(t,"/jobs")).then((function(e){return e.json()})).then((function(t){return e.setState({activeJobs:t})}))}},e.renderActiveJobs=function(){return("completed"===e.props.filter?e.state.activeJobs.filter((function(e,t){return"Complete"===e.status})):"pending"===e.props.filter?e.state.activeJobs.filter((function(e,t){return"Pending"===e.status})):e.state.activeJobs).map((function(t,a){return console.log("Job",t),r.a.createElement(We,{job:t,key:a,setAsComplete:e.setAsComplete})}))},e.setAsComplete=function(t){var a=e.state.activeJobs.map((function(e){return e.id===t.id?t:e}));e.setState({activeJobs:a})},e.state={activeJobs:[]},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.checkForToken(),this.fetchJobsData()}},{key:"componentDidUpdate",value:function(e){e.auth||this.fetchJobsData()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Active Jobs"),r.a.createElement(V.a,{container:!0,style:{padding:"1.5%"},spacing:2},r.a.createElement(V.a,{item:!0,xs:2},r.a.createElement(re.a,{style:{padding:20}},r.a.createElement(F.a,null,"Show:"),r.a.createElement(Ge,null))),r.a.createElement(V.a,{item:!0,xs:10},this.props.auth?this.renderActiveJobs():r.a.createElement(ye.a,null))))}}]),a}(n.Component),Le=Object(u.b)((function(e){return{auth:e.auth,filter:e.filter}}),{currentUser:b})(He),Me=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleSelectChange=function(t){e.setState({category:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)};fetch("https://shrouded-retreat-77877.herokuapp.com/professionals",a).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):console.log(e)}))},e.categories=[{value:"Personal Trainers",label:"Personal Trainers"},{value:"Electricians",label:"Electricians"},{value:"App Developers",label:"App Developers"},{value:"House Cleaners",label:"House Cleaners"}],e.state={name:"",email:"",introduction:"",zip_code:"",estimated_cost:"",category:e.categories[0].value,time_in_bussiness:"",img_url:""},e}return Object(T.a)(a,[{key:"render",value:function(){var e={paddingBottom:20};return r.a.createElement(z.a,null,r.a.createElement(B.a,{autoFocus:!0,label:"Name",variant:"outlined",name:"name",onChange:this.handleChange,value:this.state.name,style:e}),r.a.createElement(B.a,{label:"Profile Picture URL",variant:"outlined",name:"img_url",onChange:this.handleChange,value:this.state.img_url,style:e}),r.a.createElement(B.a,{label:"Email",variant:"outlined",name:"email",onChange:this.handleChange,value:this.state.email,style:e}),r.a.createElement(B.a,{multiline:!0,helperText:"Please include your work profession in here.",placeholder:"Developer, electrician, lawyer",rows:4,defaultValue:"Default Value",label:"Introduction",variant:"outlined",name:"introduction",onChange:this.handleChange,value:this.state.introduction,style:e}),r.a.createElement(B.a,{type:"number",label:"Zip Code",variant:"outlined",name:"zip_code",onChange:this.handleChange,value:this.state.zip_code,style:e}),r.a.createElement(B.a,{type:"number",label:"Time in Business",variant:"outlined",name:"time_in_bussiness",onChange:this.handleChange,value:this.state.time_in_bussiness,style:e}),r.a.createElement(B.a,{type:"number",label:"Estimated Cost",variant:"outlined",name:"estimated_cost",onChange:this.handleChange,value:this.state.estimated_cost,style:e}),r.a.createElement(B.a,{select:!0,helperText:"Please select a category",variant:"outlined",label:"Select",value:this.state.category,onChange:this.handleSelectChange},this.categories.map((function(e){return r.a.createElement(E.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(d.a,{size:"large",onClick:this.handleSubmit,variant:"contained",color:"primary",type:"submit",value:"login",style:{marginTop:30,backgroundColor:"#4CAF50"}},"Submit Application"))}}]),a}(n.Component),Qe=function(e){return r.a.createElement(W.a,{style:{padding:"20px",margin:"20px"}},r.a.createElement(q.a,null,r.a.createElement(Me,{history:e.history})))},Ve=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(_.a,{maxWidth:"sm"},r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Apply and get leads"),r.a.createElement(Qe,{history:this.props.history})))}}]),a}(n.Component),Ye=a(100),$e=a.n(Ye),Xe=a(102),Ke=a.n(Xe),Ze=a(101),et=a.n(Ze),tt=Object(m.a)((function(e){return{icon:{fontSize:22.5},byEmilio:{color:"grey"},grid:{flexGrow:1}}}));var at=function(){var e=tt();return r.a.createElement("footer",{id:"footer"},r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,null," \xa9 2020 Servitodo, Inc")),r.a.createElement(V.a,{item:!0},r.a.createElement(oe.a,{href:"https://www.linkedin.com/in/emilio-quintana-dev/"},r.a.createElement($e.a,{className:e.icon}))),r.a.createElement(V.a,{item:!0,className:e.grid},r.a.createElement(oe.a,{href:"https://www.instagram.com/equintanalopez/"},r.a.createElement(et.a,{className:e.icon}))),r.a.createElement(V.a,{item:!0},r.a.createElement(F.a,{className:e.byEmilio},"developed by Emilio Quintana")),r.a.createElement(V.a,{item:!0},r.a.createElement(oe.a,{href:"https://emilio-quintana-dev.github.io/"},r.a.createElement(Ke.a,{className:e.icon})))))},nt=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.match.params.jobId,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,content:n.state.content,rating:n.state.rating})};fetch("https://shrouded-retreat-77877.herokuapp.com/reviews",a).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):n.props.history.push("/jobs")}))},n.state={content:"",rating:""},n}return Object(T.a)(a,[{key:"render",value:function(){var e={paddingBottom:20};return r.a.createElement(z.a,{style:{textAlign:"center"}},r.a.createElement(B.a,{autoFocus:!0,type:"text",name:"content",label:"Content",variant:"outlined",placeholder:"Write your honest comments here",onChange:this.handleChange,style:e}),r.a.createElement(B.a,{helperText:"Rating must be a number between 1 and 5",type:"number",name:"rating",label:"Rating",variant:"outlined",onChange:this.handleChange,style:e}),r.a.createElement(d.a,{type:"submit",size:"large",color:"primary",variant:"contained",onClick:this.handleSubmit,style:{backgroundColor:"#4CAF50"}},"Submit Review"))}}]),a}(n.Component),rt=Object(u.b)((function(e){return{auth:e.auth}}),null)(nt),ot=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(A.a)(this,a),(e=t.call(this)).state={img_url:""},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.professionalId;fetch("https://shrouded-retreat-77877.herokuapp.com/professionals/".concat(t)).then((function(e){return e.json()})).then((function(t){e.setState({img_url:t.professional.img_url})}))}},{key:"render",value:function(){return r.a.createElement(W.a,{style:{padding:10,margin:20,textAlign:"center"}},r.a.createElement(q.a,null,r.a.createElement(oe.a,{style:{width:168,height:168,margin:10}},this.state.img_url?r.a.createElement("img",{style:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",borderRadius:"50%"},alt:"complex",src:this.state.img_url}):null),r.a.createElement(rt,{match:this.props.match,history:this.props.history})))}}]),a}(n.Component),lt=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(A.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).checkForToken=function(){var t=localStorage.getItem("token");if(t){var a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",a).then((function(e){return e.json()})).then((function(t){t.error?e.props.history.push("/login"):e.props.currentUser(t)}))}else e.props.history.push("/login")},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.checkForToken()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(_.a,{maxWidth:"sm",style:{marginBottom:50}},r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Submit Review"),r.a.createElement(ot,{match:this.props.match,history:this.props.history})))}}]),a}(r.a.Component),ct=Object(u.b)(null,{currentUser:b})(lt),it=a(53),st=a(103),ut=a(59),mt=a.n(ut),ht=a(76),pt=function(e){Object(D.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(A.a)(this,a),(n=t.call(this,e)).checkForToken=function(){var e=localStorage.getItem("token");if(e){var t={method:"GET",headers:{Authorization:"Bearer ".concat(e)}};fetch("https://shrouded-retreat-77877.herokuapp.com/current_user",t).then((function(e){return e.json()})).then((function(e){e.error?n.props.props.history.push("/login"):n.props.props.currentUser(e)}))}else n.props.history.push("/login")},n.handleSubmit=function(){var e=Object(ht.a)(mt.a.mark((function e(t){var a,r,o,l;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isProcessing:!0}),t.preventDefault(),a=n.props,r=a.stripe,o=a.elements,e.next=5,r.createPaymentMethod({type:"card",card:o.getElement(it.CardElement),billing_details:{name:n.state.name}});case 5:l=e.sent,n.handlePaymentMethodResult(l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePaymentMethodResult=function(){var e=Object(ht.a)(mt.a.mark((function e(t){var a,r;return mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}e.next=10;break;case 3:return e.next=5,fetch("https://shrouded-retreat-77877.herokuapp.com/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method_id:t.paymentMethod.id,amount:n.state.total})});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,n.handleServerResponse(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleServerResponse=function(e){e.error||n.props.props.history.push("/jobs")},n.handleCardChange=function(e){e.error},n.handleQtyChange=function(e){var t=e.target.value*n.state.estimated_cost;n.setState({quantity:e.target.value,total:t})},n.state={estimated_cost:e.props.match.params.estimatedCost,total:"",quantity:"",isProcessing:!1,img_url:""},n}return Object(T.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.checkForToken();var t=this.props.props.match.params.professionalId;fetch("https://shrouded-retreat-77877.herokuapp.com/professionals/".concat(t)).then((function(e){return e.json()})).then((function(t){e.setState({img_url:t.professional.img_url})}))}},{key:"render",value:function(){console.log("Props",this.props);var e=this.props.stripe;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(_.a,{maxWidth:"sm"},r.a.createElement(F.a,{variant:"h4",style:{textAlign:"center"}},"Pay"),r.a.createElement(W.a,{style:{padding:10,margin:20,textAlign:"center"}},r.a.createElement(q.a,null,r.a.createElement(oe.a,{style:{width:188,height:188,margin:10,marginBottom:"25px"}},this.state.img_url?r.a.createElement("img",{style:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%",borderRadius:"50%"},alt:"complex",src:this.state.img_url}):null),r.a.createElement(z.a,{onSubmit:this.handleSubmit},r.a.createElement(B.a,{autofocus:!0,helperText:"Please enter the amount of hours you agreed to.",type:"number",label:"Hours agreed",variant:"outlined",name:"quantity",onChange:this.handleQtyChange,style:{paddingBottom:20}}),r.a.createElement(it.CardElement,{onChange:this.handleCardChange}),this.state.quantity<1?null:r.a.createElement(F.a,{variant:"textSecondary",style:{marginTop:20}},"Total: $",this.state.total),r.a.createElement(d.a,{variant:"contained",onClick:this.handleSubmit,disabled:!e,style:{color:"white",backgroundColor:"#4CAF50",marginTop:20}},this.state.isProcessing?"Processing...":"Submit Payment"))))))}}]),a}(r.a.Component);var dt=Object(u.b)(null,{currentUser:b})((function(e){return r.a.createElement(it.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(pt,{stripe:a,elements:n,props:e})}))})),gt=Object(st.a)("pk_test_51HG8RACtDv3nRJYWEyl9q37adYz6rplFKBtKANYFRW95p6W6Y0YLQqnwkraMkJVeIOKFqhi3eylsJAVn6OV57I2Q00RIllbMjH");var Et=function(){return r.a.createElement(c.a,null,r.a.createElement(w.a,null),r.a.createElement(it.Elements,{stripe:gt},r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"page-container"},r.a.createElement(K.a,{severity:"info",color:"success"},"Welcome! Servitodo was built to help people affected by COVID-19."),r.a.createElement(S,null),r.a.createElement("div",{id:"content-wrap"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/login",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(i.a,{path:"/register",component:Je}),r.a.createElement(i.a,{exact:!0,path:"/search",render:function(e){return r.a.createElement(ne,e)}}),r.a.createElement(i.a,{exact:!0,path:"/join",component:Ve}),r.a.createElement(i.a,{exact:!0,path:"/jobs/:jobId/review/:professionalId",render:function(e){return r.a.createElement(ct,e)}}),r.a.createElement(i.a,{exact:!0,path:"/jobs",component:Le}),r.a.createElement(i.a,{exact:!0,path:"/results/:professionalId/pay/:estimatedCost",render:function(e){return r.a.createElement(dt,e)}}),r.a.createElement(i.a,{exact:!0,path:"/results/:professionalId",render:function(e){return r.a.createElement(Pe,e)}}),r.a.createElement(i.a,{exact:!0,path:"/results",render:function(e){return r.a.createElement(je,e)}}))),r.a.createElement(at,null)))))},ft=a(44);var vt=Object(ft.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":case"CURRENT_USER":return t.user;case"LOGOUT_USER":return null;default:return e}},professionals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS":return t.professionals;default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_QUERY":return t.query;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTER":return t.filter;default:return e}}}),bt=a(104),yt=a(201),Ct=Object(ft.c)(vt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),jt=Object(bt.a)({typography:{fontFamily:'"Montserrat", "Roboto", "Helvetica", "Arial", sans-serif',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500},button:{backgroundColor:"#4CAF50",color:"#4CAF50"}});l.a.render(r.a.createElement(yt.a,{theme:jt},r.a.createElement(u.a,{store:Ct},r.a.createElement(Et,null))),document.getElementById("root"))},93:function(e,t,a){e.exports=a.p+"static/media/logo.6cd1eae4.png"}},[[122,1,2]]]);
//# sourceMappingURL=main.0649e263.chunk.js.map